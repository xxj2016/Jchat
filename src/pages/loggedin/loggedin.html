<!--
  Generated template for the LoggedinPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar no-border-top>
    <ion-buttons end>
      <button ion-button icon-only (click)="showConfirm()" >
        <ion-icon name="trash" color="danger"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title>Chatting Room</ion-title>
  </ion-navbar>


</ion-header>


<ion-content padding>
    <div id="chatMessages">
      <div class="message-warp" *ngFor="let message of messages" [ngClass]="{'special': message.specialMessage}" >
        <div class="innerMessages" [ngClass]="{'messageLeft':!message.specialMessage &&  message.username !== username,'messageRight': !message.specialMessage && message.username === username}" >
          <!-- <img class="message-img" src="assets/imgs/background/background-1.jpg"> -->
          <div class="message-img" *ngIf="!message.specialMessage" >{{message.username.split('@')[0]}}</div>
          <div class="username" *ngIf="!message.specialMessage">{{message.username}}</div>
          <div class="message-detail">
            <div class="messageContent" [ngClass]="{'triangle-left': !message.specialMessage && message.username !== username,'triangle-right': !message.specialMessage && message.username === username}">{{message.message}}</div>
          </div>
        </div>
      </div>
    </div>
  
</ion-content>

<ion-footer>
    <ion-toolbar>
      <div class="footerBox">
        <ion-input type="text" [(ngModel)]="message"></ion-input>
        <button ion-button icon-only (click)="sendMessage()">
          <ion-icon name="send"></ion-icon>
        </button>      
      </div>
    </ion-toolbar>
  </ion-footer>
